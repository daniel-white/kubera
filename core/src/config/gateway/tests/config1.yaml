version: v1alpha1

# Network listeners
listeners:
  - name: "http-listener"
    port: 8080
    protocol: "HTTP"

  - name: "https-listener"
    port: 8443
    protocol: "HTTPS"

# HTTP routing rules
http_routes:
  - rules:
      - unique_id: "api-route"
        matches:
          - path:
              type: "Prefix"
              value: "/api"
            method: "GET"
        backends:
          - name: "api-service"
            namespace: "default"
            port: 3000
            endpoints:
              - address: "10.0.1.10"
              - address: "10.0.1.11"

      - unique_id: "admin-route"
        matches:
          - path:
              type: "Exact"
              value: "/admin"
            method: "POST"
        backends:
          - name: "admin-service"
            namespace: "admin"
            port: 8080
            endpoints:
              - address: "10.0.2.10"
